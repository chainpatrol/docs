---
title: List Reports
openapi: "GET /organization/reports"
---

## Overview

Retrieve security reports for your organization. This endpoint returns all reports submitted for your organization, including details about reported assets, proposals, and their current status. The organization is automatically inferred from your API key.

## Quick Start

### Authentication

Include your API key in the `X-API-KEY` header:

```bash
X-API-KEY: your_api_key_here
```

### Example Request

<CodeGroup>

```typescript TypeScript
const response = await fetch(
  "https://app.chainpatrol.io/api/v2/organization/reports?limit=50",
  {
    method: "GET",
    headers: {
      "X-API-KEY": "YOUR_API_KEY_HERE",
    },
  }
);

const data = await response.json();
console.log(data.reports);
```

```javascript JavaScript
const response = await fetch(
  "https://app.chainpatrol.io/api/v2/organization/reports?limit=50",
  {
    method: "GET",
    headers: {
      "X-API-KEY": "YOUR_API_KEY_HERE",
    },
  }
);

const data = await response.json();
console.log(data.reports);
```

```python Python
import requests

response = requests.get(
    "https://app.chainpatrol.io/api/v2/organization/reports",
    headers={
        "X-API-KEY": "YOUR_API_KEY_HERE",
    },
    params={
        "limit": 50,
    },
)

data = response.json()
print(data["reports"])
```

```bash cURL
curl -X GET 'https://app.chainpatrol.io/api/v2/organization/reports?limit=50' \
  -H 'X-API-KEY: YOUR_API_KEY_HERE'
```

</CodeGroup>

## Query Parameters

| Parameter    | Type    | Required | Description                                                                                           |
| ------------ | ------- | -------- | ----------------------------------------------------------------------------------------------------- |
| limit        | number  | No       | Number of reports to return per page (1-100, default: 50)                                            |
| cursor       | string  | No       | Cursor for pagination. Pass the cursor from the previous response to get the next page.               |
| startDate    | string  | No       | Filter reports created after this date (ISO 8601 format)                                              |
| endDate      | string  | No       | Filter reports created before this date (ISO 8601 format)                                             |
| onlyRejected | boolean | No       | If true, only return reports with rejected proposals (default: false)                                 |

## Response

### Success Response

```json
{
  "reports": [
    {
      "id": "rpt_1234567890abcdef",
      "createdAt": "2024-01-15T10:30:00.000Z",
      "status": "APPROVED",
      "assets": [
        {
          "id": 12345,
          "content": "https://scam-site.com",
          "type": "URL",
          "status": "BLOCKED"
        }
      ],
      "proposals": [
        {
          "id": "prop_abc123",
          "status": "APPROVED",
          "reason": "phishing",
          "createdAt": "2024-01-15T10:30:00.000Z"
        }
      ]
    }
  ],
  "cursor": "next_page_cursor_string"
}
```

### Response Fields

| Field                      | Type   | Description                                                              |
| -------------------------- | ------ | ------------------------------------------------------------------------ |
| reports                    | array  | Array of report objects for your organization                            |
| reports[].id               | string | Unique identifier for the report                                         |
| reports[].createdAt        | string | ISO 8601 timestamp when the report was created                           |
| reports[].status           | string | Overall status of the report (PENDING, APPROVED, REJECTED)               |
| reports[].assets           | array  | Array of assets included in the report                                   |
| reports[].proposals        | array  | Array of proposals associated with the report                            |
| cursor                     | string | Cursor for the next page of results (undefined if no more results)       |

## Pagination

Use the cursor-based pagination to fetch all reports:

<CodeGroup>

```typescript TypeScript
async function fetchAllReports() {
  let allReports = [];
  let cursor: string | undefined = undefined;

  while (true) {
    const params = new URLSearchParams({
      limit: "100",
      ...(cursor && { cursor }),
    });

    const response = await fetch(
      `https://app.chainpatrol.io/api/v2/organization/reports?${params}`,
      {
        method: "GET",
        headers: {
          "X-API-KEY": "YOUR_API_KEY_HERE",
        },
      }
    );

    const data = await response.json();
    allReports = allReports.concat(data.reports);
    cursor = data.cursor;

    if (!cursor) {
      break;
    }
  }

  return allReports;
}

fetchAllReports()
  .then((reports) => console.log(`Total reports: ${reports.length}`))
  .catch((error) => console.error("Error:", error));
```

```python Python
import requests

def fetch_all_reports():
    all_reports = []
    cursor = None

    while True:
        params = {"limit": 100}
        if cursor:
            params["cursor"] = cursor

        response = requests.get(
            "https://app.chainpatrol.io/api/v2/organization/reports",
            headers={"X-API-KEY": "YOUR_API_KEY_HERE"},
            params=params,
        )

        data = response.json()
        all_reports.extend(data["reports"])
        cursor = data.get("cursor")

        if not cursor:
            break

    return all_reports

try:
    reports = fetch_all_reports()
    print(f"Total reports: {len(reports)}")
except Exception as error:
    print(f"Error: {str(error)}")
```

</CodeGroup>

## Filtering Examples

### Filter by Date Range

Get reports from a specific time period:

```bash
curl -X GET 'https://app.chainpatrol.io/api/v2/organization/reports?startDate=2024-01-01T00:00:00Z&endDate=2024-03-31T23:59:59Z' \
  -H 'X-API-KEY: YOUR_API_KEY_HERE'
```

### Filter Only Rejected Reports

Get reports that have rejected proposals:

```bash
curl -X GET 'https://app.chainpatrol.io/api/v2/organization/reports?onlyRejected=true' \
  -H 'X-API-KEY: YOUR_API_KEY_HERE'
```

### Combine Filters

Get rejected reports from a specific date range:

```bash
curl -X GET 'https://app.chainpatrol.io/api/v2/organization/reports?startDate=2024-01-01T00:00:00Z&endDate=2024-03-31T23:59:59Z&onlyRejected=true&limit=100' \
  -H 'X-API-KEY: YOUR_API_KEY_HERE'
```

## Error Responses

### 401 Unauthorized

Returned when the API key is missing, invalid, or doesn't have organization access:

```json
{
  "error": {
    "code": "UNAUTHORIZED",
    "message": "API key with organization access required"
  }
}
```

### 400 Bad Request

Returned when query parameters are invalid:

```json
{
  "error": {
    "code": "BAD_REQUEST",
    "message": "Invalid date format. Use ISO 8601 format."
  }
}
```

## Use Cases

### Monitor Recent Reports

```typescript
async function getRecentReports(days: number = 7) {
  const startDate = new Date();
  startDate.setDate(startDate.getDate() - days);

  const response = await fetch(
    `https://app.chainpatrol.io/api/v2/organization/reports?startDate=${startDate.toISOString()}&limit=100`,
    {
      headers: { "X-API-KEY": "YOUR_API_KEY_HERE" },
    }
  );

  const { reports } = await response.json();
  console.log(`Found ${reports.length} reports in the last ${days} days`);
  return reports;
}
```

### Track Rejected Reports

```typescript
async function analyzeRejectedReports() {
  const response = await fetch(
    "https://app.chainpatrol.io/api/v2/organization/reports?onlyRejected=true",
    {
      headers: { "X-API-KEY": "YOUR_API_KEY_HERE" },
    }
  );

  const { reports } = await response.json();

  // Analyze rejection reasons
  const rejectionReasons = reports.flatMap((report) =>
    report.proposals
      .filter((p) => p.status === "REJECTED")
      .map((p) => p.rejectionReason)
  );

  console.log("Common rejection reasons:", rejectionReasons);
  return rejectionReasons;
}
```

### Export Reports to CSV

```typescript
async function exportReportsToCSV(startDate: string, endDate: string) {
  const response = await fetch(
    `https://app.chainpatrol.io/api/v2/organization/reports?startDate=${startDate}&endDate=${endDate}&limit=100`,
    {
      headers: { "X-API-KEY": "YOUR_API_KEY_HERE" },
    }
  );

  const { reports } = await response.json();

  const csvHeader = "Report ID,Created At,Status,Assets,Proposals\n";
  const csvRows = reports
    .map(
      (r) =>
        `${r.id},${r.createdAt},${r.status},${r.assets.length},${r.proposals.length}`
    )
    .join("\n");

  const csv = csvHeader + csvRows;

  // Save or return CSV
  return csv;
}
```

## Best Practices

### Pagination
- Use `limit=100` for bulk data retrieval to minimize API calls
- Always check for the `cursor` field to determine if more results exist
- Store the cursor if you need to resume pagination later

### Date Filtering
- Always use ISO 8601 format for dates: `YYYY-MM-DDTHH:mm:ss.sssZ`
- Include timezone information (typically UTC with `Z` suffix)
- Use both `startDate` and `endDate` for precise time ranges

### Performance
- Cache report data when appropriate to reduce API calls
- Use date filters to limit the result set size
- Consider polling intervals if monitoring for new reports (5-10 minutes recommended)

## Notes

- Organization is automatically determined from your API key
- All timestamps are in ISO 8601 format with UTC timezone
- The `onlyRejected` filter shows reports with at least one rejected proposal, but the report may contain other approved proposals
- Reports are ordered by creation date (newest first)
- The cursor is opaque and should not be parsed or modified
