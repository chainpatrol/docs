---
title: Takedowns List
openapi: "POST /takedowns/list"
---

<Warning>
  This API requires an API key with appropriate permissions. See [API Key
  Documentation](/general/api-key) for more details.
</Warning>

<Info>
  This endpoint uses cursor-based pagination for efficient retrieval of large
  datasets. If you encounter errors related to payload size, please use the
  pagination feature as described below.
</Info>

## Pagination

To use pagination, include the `per_page` and `next_page` parameters in your request:

- `per_page <number>`: Number of takedowns to return per page (min: 1, max: 100)
- `next_page <string>`: Cursor for the next page of results

### Example implementation for pagination:

<CodeGroup>

```javascript JavaScript
async function fetchAllTakedowns() {
  let allTakedowns = [];
  let nextPage = null;
  while (true) {
    const response = await fetch(
      "https://app.chainpatrol.io/api/v2/takedowns/list",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "X-API-KEY": "YOUR_API_KEY_HERE",
        },
        body: JSON.stringify({
          per_page: 100,
          next_page: nextPage,
          takedownStatus: ["TODO", "IN_PROGRESS"],
          livenessStatus: ["ALIVE"],
        }),
      }
    );
    const data = await response.json();
    allTakedowns = allTakedowns.concat(data.takedowns);
    nextPage = data.next_page;
    if (!nextPage) {
      break;
    }
  }
  return allTakedowns;
}
fetchAllTakedowns()
  .then((takedowns) => console.log("All takedowns:", takedowns))
  .catch((error) => console.error("Error fetching takedowns:", error));
```

```typescript TypeScript
async function fetchAllTakedowns(): Promise<any[]> {
  let allTakedowns: any[] = [];
  let nextPage: string | null = null;

  while (true) {
    const response = await fetch(
      "https://app.chainpatrol.io/api/v2/takedowns/list",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "X-API-KEY": "YOUR_API_KEY_HERE",
        },
        body: JSON.stringify({
          per_page: 100,
          next_page: nextPage,
          takedownStatus: ["TODO", "IN_PROGRESS"],
          livenessStatus: ["ALIVE"],
        }),
      }
    );
    const data = await response.json();
    allTakedowns = allTakedowns.concat(data.takedowns);
    nextPage = data.next_page;

    if (!nextPage) {
      break;
    }
  }
  return allTakedowns;
}

fetchAllTakedowns()
  .then((takedowns) => console.log("All takedowns:", takedowns))
  .catch((error) => console.error("Error fetching takedowns:", error));
```

```python Python
import requests

def fetch_all_takedowns() -> list:
    all_takedowns = []
    next_page = None
    while True:
        response = requests.post(
            "https://app.chainpatrol.io/api/v2/takedowns/list",
            headers={
                "Content-Type": "application/json",
                "X-API-KEY": "YOUR_API_KEY_HERE",
            },
            json={
                "per_page": 100,
                "next_page": next_page,
                "takedownStatus": ["TODO", "IN_PROGRESS"],
                "livenessStatus": ["ALIVE"],
            },
        )
        data = response.json()
        all_takedowns.extend(data["takedowns"])
        next_page = data.get("next_page")
        if not next_page:
            break
    return all_takedowns

try:
    takedowns = fetch_all_takedowns()
    print("All takedowns:", takedowns)
except Exception as error:
    print("Error fetching takedowns:", str(error))
```

</CodeGroup>
